webpackJsonp([11],{"7GN0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("Dd8w"),a=n.n(i),s=n("NYxO"),o=n("WAoQ"),l={data:function(){return{page:1,size:10,total:0,eaInfo:{login:"",nick_name:"",brokers:"",group_id:""},id:"",showedit:!1,edit:!1,showPr:!1,pr:"",value:"",prList:[],pr_total:0,type:"add",checkList:[],EaList:[]}},created:function(){this.getPrList(this.page)},mounted:function(){},computed:a()({},Object(s.b)(["device","ea_pr"])),methods:{checkBoxChange:function(e){console.log(e)},changeSelect:function(e){this.eaInfo.group_id=e,console.log(this.eaInfo)},hideEdit:function(){this.showedit=!1,this.checkList=[]},showEdit:function(){this.showedit=!0,this.edit=!1,this.pr="",this.type="add"},handleEditPr:function(e){var t=this,n=this;if(""!=this.pr)if(0!=this.checkList.length)if("add"==this.type){var i={group_name:this.pr,user:this.checkList};Object(o.a)(i).then(function(e){n.showedit=!1,n.getPrList(n.page),t.checkList=[],n.$message({message:"添加成功",type:"success"})})}else{var a={id:this.id,group_name:this.pr,user:this.checkList};Object(o.d)(a).then(function(e){n.showedit=!1,n.getPrList(n.page),t.checkList=[],n.$message({message:"修改成功",type:"success"})})}else this.$message({message:"请选择账号！",type:"warning"});else this.$message({message:"请输入项目名称",type:"warning"})},handleEditEa:function(){var e=this;if(""!=this.eaInfo.login&&""!=this.eaInfo.nick_name&&""!=this.eaInfo.group_id)if(this.edit){var t=this.eaInfo;t.id=this.id,Object(o.e)(t).then(function(){e.showedit=!1,e.getPrList(e.page),e.$message({message:"修改成功",type:"success"})})}else{console.log(this.eaInfo.group_id);var n={login:this.eaInfo.login,nick_name:this.eaInfo.nick_name,brokers:this.eaInfo.brokers,group_id:this.eaInfo.group_id};Object(o.b)(n).then(function(t){e.showedit=!1,e.getPrList(e.page),e.$message({message:"添加成功",type:"success"})})}else this.$message({message:"请输入账号或昵称或项目",type:"warning"})},handleEdit:function(e){console.log(e),this.pr=e.group_name,this.id=e.id,this.showedit=!0,this.type="edit",this.checkList=e.user},handleDelete:function(e){var t=this;this.$confirm("删除该EA, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.handleConfirmDelete(e)}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},handleConfirmDelete:function(e){var t=this,n=this,i=this.page;Object(o.c)({id:e}).then(function(e){t.$message({type:"success",message:"删除成功!"}),n.getPrList(i)})},handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){console.log("当前页: "+e),this.page=e,this.getPrList(e)},getPrList:function(e){var t=this,n=this.$loading({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),i={page:e,size:t.size};Object(o.i)(i).then(function(e){n.close(),t.prList=e.data.data,t.pr_total=e.data.total,console.log("that.prList",t.prList),t.handeleGetEaUserList()})},handeleGetEaUserList:function(){var e=this;Object(o.g)({page:1,size:15}).then(function(t){console.log(t.data.data),e.EaList=t.data.data||[]})}}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ea-list"},[n("div",{staticClass:"add-ea"},[n("div",{staticClass:"ea-title-right btn-active",on:{click:function(t){e.showEdit("pr")}}},[e._v(e._s(e.$t("ea.p606")))])]),e._v(" "),n("div",{staticClass:"ea-list-main"},[e.prList.length>0?n("div",{staticStyle:{width:"100%","overflow-x":"auto"}},[n("div",{staticClass:"ea-list-title hor"},[n("div",[e._v(e._s(e.$t("ea.p600")))]),e._v(" "),n("div",[e._v(e._s(e.$t("ea.p604")))]),e._v(" "),n("div",[e._v(e._s(e.$t("ea.p603")))])]),e._v(" "),e._l(e.prList,function(t,i){return n("div",{key:i,staticClass:"ea-list-items center-center",class:(i+1)%2==0?"even-num":""},[n("div",{staticClass:"flex-1"},[e._v(e._s(t.group_name))]),e._v(" "),n("div",{staticClass:"flex-1"},[e._v(e._s(t.create_time))]),e._v(" "),n("div",{staticClass:"ea-list-btn center-center"},[n("span",{staticClass:"btn-edit",on:{click:function(n){e.handleEdit(t)}}},[n("i",{staticClass:"iconfont"},[e._v("")])])])])})],2):n("div",{staticClass:"no-data"},[e._v(e._s(e.$t("ea.nodata")))]),e._v(" "),e.pr_total?n("el-pagination",{attrs:{"page-size":e.size,layout:"prev, pager, next",total:e.pr_total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),e.showedit?n("div",{staticClass:"ea-mask"}):e._e(),e._v(" "),e.showedit?n("div",{staticClass:"ea-add-user center-center-column"},[n("div",{staticClass:"ea-edit"},[n("el-input",{attrs:{placeholder:"请输入新添加分析项目名称"},model:{value:e.pr,callback:function(t){e.pr=t},expression:"pr"}}),e._v(" "),n("el-checkbox-group",{on:{change:e.checkBoxChange},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},e._l(e.EaList,function(t,i){return n("el-checkbox",{key:i,attrs:{label:t.id}},[e._v(e._s(t.nick_name))])})),e._v(" "),n("div",{staticClass:"ea-mask-btns"},[n("el-button",{on:{click:e.hideEdit}},[e._v("取消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.handleEditPr}},[e._v("确定")])],1)],1)]):e._e()])},staticRenderFns:[]};var r=n("VU/8")(l,c,!1,function(e){n("NBv8")},null,null);t.default=r.exports},HbrK:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.ea-mask {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 100;\n  background-color: rgba(0, 0, 0, 0.5);\n}\n.ea-add-user {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 110;\n}\n.ea-add-user .ea-edit {\n    width: 80%;\n    padding: 30px;\n    background-color: #fff;\n    border-radius: 4px;\n    max-width: 400px;\n}\n.ea-add-user .ea-edit .el-checkbox {\n      margin-bottom: 10px;\n}\n.ea-add-user .ea-edit input {\n      margin-bottom: 15px;\n}\n.ea-add-user .ea-edit .el-select {\n      width: 100%;\n}\n.ea-add-user .ea-edit .el-select input {\n        margin-bottom: 0;\n}\n.ea-add-user .ea-edit .ea-mask-btns {\n      text-align: right;\n      margin-top: 15px;\n}\n.add-ea {\n  width: 100%;\n  text-align: right;\n  margin-bottom: 16px;\n}\n.ea-title-right {\n  margin-left: 10px;\n  background-color: #979797;\n  font-size: 14px;\n  padding: 0 10px;\n  border-radius: 4px;\n  height: 24px;\n  line-height: 24px;\n  cursor: pointer;\n  display: inline-block;\n}\n.btn-active {\n  background-color: #00cfff;\n  color: #fff;\n}\n.no-data {\n  text-align: center;\n  padding-top: 50px;\n  color: #b4b4b4;\n}\n.ea-list {\n  width: 100%;\n  height: calc(100vh - 70px);\n  padding: 30px;\n}\n.ea-list .ea-list-main {\n    width: 100%;\n    height: calc(100% - 40px);\n    background-color: #001b1f;\n    color: #eeeeee;\n    font-size: 12px;\n    position: relative;\n}\n.ea-list .ea-list-main .fixed-table {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 80px;\n      background-color: #001b1f;\n      text-align: center;\n}\n.ea-list .ea-list-main .ea-list-title {\n      width: 100%;\n      height: 44px;\n      line-height: 44px;\n      border-bottom: 1px solid #042d35;\n}\n.ea-list .ea-list-main .ea-list-title div {\n        -webkit-box-flex: 1;\n            -ms-flex: 1;\n                flex: 1;\n        text-align: center;\n}\n.ea-list .ea-list-main .ea-list-items {\n      width: 100%;\n      height: 44px;\n      line-height: 14px;\n      border-bottom: 1px solid #042d35;\n}\n.ea-list .ea-list-main .ea-list-items div {\n        -webkit-box-flex: 1;\n            -ms-flex: 1;\n                flex: 1;\n        text-align: center;\n        overflow: hidden;\n        word-break: break-all;\n}\n.ea-list .ea-list-main .ea-list-items .ea-list-btn {\n        color: #fff;\n}\n.ea-list .ea-list-main .ea-list-items .ea-list-btn span {\n          cursor: pointer;\n}\n.ea-list .ea-list-main .ea-list-items .ea-list-btn .btn-edit {\n          background-color: #1dadd5;\n          height: 24px;\n          line-height: 24px;\n          padding: 0 10px;\n          border-radius: 4px;\n}\n.ea-list .ea-list-main .ea-list-items .ea-list-btn .btn-delete {\n          background-color: #7476e5;\n          height: 24px;\n          line-height: 24px;\n          padding: 0 10px;\n          margin-left: 10px;\n          border-radius: 4px;\n}\n.ea-list .ea-list-main .ea-list-items .ea-list-btn i {\n          font-size: 18px;\n}\n.ea-list .ea-list-main .even-num {\n      background-color: #001013;\n}\n.el-pagination button:disabled, .el-pagination .btn-next, .el-pagination .btn-prev, .el-pager li {\n  background-color: unset;\n}\n.el-pagination {\n  text-align: right;\n  margin-top: 30px;\n}\n",""])},NBv8:function(e,t,n){var i=n("HbrK");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n("rjj0")("04f3ad05",i,!0)}});