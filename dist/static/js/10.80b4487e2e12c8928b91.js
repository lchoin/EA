webpackJsonp([10],{CJnH:function(t,e,a){var i=a("tzPu");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("ee9fad42",i,!0)},tzPu:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n.mychart {\n  text-align: center;\n  margin-top: 20px;\n}\n.ea-grap {\n  width: 100%;\n  padding: 30px;\n  color: #fff;\n}\n.ea-grap .ea-item-title {\n    font-size: 18px;\n    margin-bottom: 15px;\n}\n.ea-grap .ea-item-title .select-des {\n      color: #00b9e4;\n      font-size: 14px;\n}\n.ea-grap .ea-item-title .el-button--primary {\n      height: 24px;\n      padding: 0 10px;\n      line-height: 24px;\n      background-color: #00b9e4;\n      font-size: 14px;\n      display: inline-block;\n}\n.ea-grap .ea-item-title .time .el-button--primary {\n      background-color: unset;\n      border: unset;\n}\n.ea-grap .ea-item-main {\n    padding: 10px;\n    height: 420px;\n    margin-bottom: 30px;\n}\n.ea-grap .ea-item-main2 {\n    padding: 10px;\n    min-height: 500px;\n    margin-bottom: 0px;\n}\n.ea-grap .ea-item-main2 .ea-grap-item {\n      height: 480px;\n}\n",""])},uffF:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Dd8w"),s=a.n(i),r=a("NYxO"),n=a("rZ+8"),o={data:function(){return{eaname:this.$t("ea.p1unitd"),group:[],value6:"",start_y:"",start_m:"",end_time:"",myChart3:!0,year:2018,num:0,myChart4:!0}},computed:s()({},Object(r.b)(["years_earnings","ea_user_info","device","language"])),created:function(){console.log("language",this.language);var t=new Date,e=t.getFullYear(),a=t.getMonth()+1;this.year=e,this.num=e-2018,this.start_y=e,this.start_m=a;var i=this.getDaysInYearMonth(this.start_y,this.start_m),s={start_time:this.start_y+"-"+this.start_m+"-1",end_time:this.start_y+"-"+this.start_m+"-"+i};this.getGroudsList(),this.handleSelect("day_earnings","myChart1","charts01","bar"),this.getWeekEarnings(),this.getAllEarnings("all_earnings_to_time","myChart3","charts03","bar",s),this.getAllEarnings("all_earnings","myChart4","charts04","pie")},mounted:function(){},beforeDestroy:function(){this.chart01&&(this.chart01.dispose(),this.chart01=null)},methods:{getDaysInYearMonth:function(t,e){return e=parseInt(e,10),new Date(t,e,0).getDate()},trimSpace:function(t){for(var e=0;e<t.length;e++)0==t[e].values.length?(t.splice(e,1),e-=1):(t[e].values=this.trimMinus(t[e].values),console.log("array[i].values",t[e].values));return t},trimMinus:function(t){for(var e=0;e<t.length;e++)(t[e].value<0||t[e].sum_profit<0)&&(t.splice(e,1),e-=1);return t},getGroudsList:function(){var t=this;Object(n.a)({},"symbol_earnings_group_login").then(function(e){console.log(e.data);var a=t.trimSpace(e.data);if(a.length>0){for(var i=[],s=0,r=a.length;s<r;s+=3)i.push(a.slice(s,s+3));t.group=i,console.log("result",i);var n=[["#1dadd5","#bde3f6","#91d1f0","#66beeb","#3aace5","#0f9ae0","#0d7fb8","#0a638f","#074666","#052a3e"],["#5f61bc","#6a6cd1","#7476e5","#8082e7","#8d8ee9","#999bec","#a6a7ee","#b3b4f0","#bfc0f3","#cccdf5"],["#2f2f2f","#464646","#5d5d5d","#747474","#8c8c8c","#a3a3a3","#bababa","#d1d1d1","#e8e8e8","#ffffff"]];setTimeout(function(){a.map(function(e,a){if(e.values.length>0){var i=[],s=e.ea_name,r=e.ea_name+a,o=n[a%3];e.values.map(function(t,e){i.push(t.name)});var l={leData:i,values:e.values,colors:o};t.createdGroundPie(s,r,l)}})},1e3)}})},createdGroundPie:function(t,e,a){var i=this;this[e]=this.$echarts.init(document.getElementById(t)),this[e].clear(),window.addEventListener("resize",function(){i[e].resize()}),this[e].setOption({title:{text:t,x:"center",y:"center",textStyle:{color:"#fff",fontSize:14,fontWeight:"normal"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{show:!1,orient:"horizontal",left:"center",data:a.leData||[],textStyle:{color:"#fff"}},series:[{name:t,type:"pie",radius:["35%","60%"],color:function(t){return a.colors[t.dataIndex%10]},data:a.values,label:{},itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"},normal:{label:{show:!0,formatter:"{b} : {c} ({d}%)"},labelLine:{show:!0}}}}]})},getWeekEarnings:function(){this.handleSelect("day_earnings","myChart2","charts02","line")},selectEa:function(t){"year_earnings"==t&&(this.eaname=this.$t("ea.p1unity")),"month_earnings"==t&&(this.eaname=this.$t("ea.p1unitm")),"day_earnings"==t&&(this.eaname=this.$t("ea.p1unitd")),this.handleSelect(t)},selectY:function(t){this.start_y=t;var e=this.getDaysInYearMonth(this.start_y,this.start_m),a={start_time:this.start_y+"-"+this.start_m+"-1",end_time:this.start_y+"-"+this.start_m+"-"+e};this.getAllEarnings("all_earnings_to_time","myChart3","charts03","bar",a)},selectM:function(t){this.start_m=t;var e=this.getDaysInYearMonth(this.start_y,this.start_m),a={start_time:this.start_y+"-"+this.start_m+"-1",end_time:this.start_y+"-"+this.start_m+"-"+e};this.getAllEarnings("all_earnings_to_time","myChart3","charts03","bar",a)},getAllEarnings:function(t,e,a,i,s){var r=this;s=s||{};var o=this.$loading({lock:!0,text:"Loading",target:document.querySelector("body"),background:"rgba(0, 0, 0, 0.7)"});Object(n.a)(s,t).then(function(s){if(o.close(),0==s.data.length)return"bar"==i?void(r.myChart3=!1):void(r.myChart4=!1);var n=[],l=[],c=[],d={normal:{position:"right"}},h={normal:{position:""}};(s.data||[]).map(function(t,e){n.push(t.nick_name);var a={name:t.nick_name,type:"bar",value:[],sum_profit_rate:t.sum_profit_rate};a.value.push(t.sum_profit),l.push(a);var i={name:t.nick_name,value:t.sum_profit,label:t.sum_profit<0?d:h};c.push(i)});var m={leData:n,xAxis:[""],series:l,barGap:"40%",barWidth:"15%",label:!0};if(console.log("options",m),"bar"==i)r.handleDrawEachats(e,a,i,m);else{var p={leData:n,values:c};"all_earnings"==t?(console.log("pie",c),r.handleBar(e,a,i,p)):r.handlePie(e,a,i,p)}})},handleBar:function(t,e,a,i){var s=this,r="mobile"==this.device?{top:30,bottom:10,left:10}:{top:30,bottom:30};this[e]=this.$echarts.init(document.getElementById(t)),this[e].clear(),window.addEventListener("resize",function(){s[e].resize()}),this[e].setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:r,xAxis:{type:"value",position:"top",splitLine:{lineStyle:{type:"dashed"}},axisLabel:{textStyle:{color:"#fff"},lineStyle:{type:"solid",color:"#1a3236",width:"1"}}},yAxis:{type:"category",axisLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1},splitLine:{show:!1},data:i.leData},series:[{name:"总收益",type:"bar",stack:"收益",barWidth:i.values.length<3?"50":"",itemStyle:{normal:{color:"#00cfff",borderRadius:0,label:{show:!0}}},label:{normal:{show:!0,formatter:"{b}"}},data:i.values}]})},handlePie:function(t,e,a,i){var s=this;this[e]=this.$echarts.init(document.getElementById(t)),this[e].clear(),window.addEventListener("resize",function(){s[e].resize()});var r=["#1dadd5","#7476e5","#eeeeee"];this[e].setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"horizontal",left:"center",data:i.leData||[],textStyle:{color:"#fff"}},series:[{name:"EA",type:"pie",radius:["35%","60%"],color:function(t){return r[t.dataIndex%3]},data:i.values,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"},normal:{label:{show:!0,formatter:"{b} : {c} ({d}%)"},labelLine:{show:!0}}}}]})},handleSelect:function(t,e,a,i){e=e||"myChart1",a=a||"charts01",i=i||"bar";var s=this,r=this.$loading({lock:!0,text:"Loading",target:document.querySelector("body"),background:"rgba(0, 0, 0, 0.7)"});Object(n.a)({},t).then(function(t){r.close();var n=t.data.ea_name||[],o=t.data.x_axis||[],l=t.data.y_data,c=[];n.map(function(t,e){var a={name:t,type:i,value:[]};o.map(function(e,i){a.value.push(l[e][t])}),c.push(a)});var d={leData:n,xAxis:o,series:c};s.handleDrawEachats(e,a,i,d)})},handleDrawEachats:function(t,e,a,i){var s=this,r=this;this[e]=this.$echarts.init(document.getElementById(t)),this[e].clear();var n=[],o=[["#005360","#00ccfb"],["#1f2289","#7475e4"],["#586466","#fcfcfc"],["#052a3e","#8dcff3"],["#5f61bc","#b1b3ff"],["#0052c2","#4292ff"],["#7e0091","#f6b9ff"],["#820049","#ff9bd3"],["#7600ba","#e7beff"],["#007e6e","#abfff4"]],l=["#00b9e4","#7476e5","#eeeeee","#052a3e","#5f61bc","#0052c2","#7e0091","#820049","#7600ba","#007e6e"];i.series.map(function(t,e){var s={name:t.name,type:t.type,barGap:i.barGap||"5%",barWidth:i.barWidth||"10",data:t.value,label:i.label?{normal:{show:!0,color:"#fff",position:"top",formatter:function(t){var e=i.series[t.seriesIndex].sum_profit_rate;return t.seriesName+"\n"+t.value+"\n"+e}}}:{},symbol:"none",smooth:!0,itemStyle:{normal:{lineStyle:{color:l[e%10]},color:function(t){var i=e%10;return"bar"==a?t.value>0?new r.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:o[i][1]},{offset:1,color:o[i][0]}]):new r.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:o[i][0]},{offset:1,color:o[i][1]}]):l[i]}}}};n.push(s)}),window.addEventListener("resize",function(){s[e].resize()});var c=void 0,d=void 0;"mobile"==r.device?(c=[{type:"inside",start:0,end:50},{start:0,end:10,handleIcon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",handleSize:"80%",handleStyle:{color:"#fff",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.6)",shadowOffsetX:2,shadowOffsetY:2}}],d={left:"0px",right:"10px",bottom:"50px",containLabel:!0,borderWidth:1,borderColor:"#ccc"}):(c=[],d={left:"30px",right:"30px",bottom:"30px",containLabel:!0,borderWidth:1,borderColor:"#ccc"}),this[e].setOption({grid:d,dataZoom:c,tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},legend:{data:i.leData||[],textStyle:{color:"#fff"}},xAxis:[{type:"category",data:i.xAxis||[],axisPointer:{type:"shadow"},axisLabel:{textStyle:{color:"#fff"},lineStyle:{type:"solid",color:"#1a3236",width:"1"}}}],yAxis:[{type:"value",axisLabel:{textStyle:{color:"#fff"},lineStyle:{type:"solid",color:"#1a3236",width:"1"}},splitLine:{show:!0,lineStyle:{color:["#1a3236"],width:1,type:"solid"}}}],series:n})}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ea-grap"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"ea-grap-item",attrs:{xs:24,sm:12}},[a("div",{staticClass:"ea-item-title"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{xs:12,sm:12}},[t._v(t._s(t.$t("ea.p101")))]),t._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{xs:12,sm:12}},[a("span",{staticClass:"select-des"},[t._v(t._s(t.$t("ea.p1unit")))]),t._v(" "),a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.selectEa}},[a("el-button",{attrs:{type:"primary"}},[t._v("\n                  "+t._s(t.eaname)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"year_earnings"}},[t._v(t._s(t.$t("ea.p1unity")))]),t._v(" "),a("el-dropdown-item",{attrs:{command:"month_earnings"}},[t._v(t._s(t.$t("ea.p1unitm")))]),t._v(" "),a("el-dropdown-item",{attrs:{command:"day_earnings"}},[t._v(t._s(t.$t("ea.p1unitd")))])],1)],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"ea-item-main ea-border"},[a("div",{style:{width:"100%",height:"100%"},attrs:{id:"myChart1"}})])]),t._v(" "),a("el-col",{staticClass:"ea-grap-item",attrs:{xs:24,sm:12}},[a("div",{staticClass:"ea-item-title"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{xs:12,sm:12}},[t._v(t._s(t.$t("ea.p102")))]),t._v(" "),a("el-col",{staticClass:"time",staticStyle:{"text-align":"right"},attrs:{xs:12,sm:12}},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.selectY}},[a("el-button",{attrs:{type:"primary"}},[t._v("\n                  "+t._s(t.start_y)+" "),a("span",{staticStyle:{color:"#00b9e4"}},[t._v(t._s(t.$t("ea.year")))]),a("i",{staticClass:"el-icon-arrow-down el-icon--right",staticStyle:{color:"#00b9e4"}})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.num+1,function(e){return a("el-dropdown-item",{key:e,attrs:{command:t.year-(t.num+1)+e}},[t._v(t._s(t.year-(t.num+1)+e)+t._s(t.$t("ea.year")))])}))],1),t._v(" "),a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.selectM}},[a("el-button",{attrs:{type:"primary"}},[t._v("\n                  "+t._s(t.start_m)+" "),a("span",{staticStyle:{color:"#00b9e4"}},[t._v(t._s(t.$t("ea.mouth")))]),a("i",{staticClass:"el-icon-arrow-down el-icon--right",staticStyle:{color:"#00b9e4"}})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(12,function(e){return a("el-dropdown-item",{key:e,attrs:{command:e}},[t._v(t._s(e)+t._s(t.$t("ea.mouth")))])}))],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"ea-item-main ea-border"},[t.myChart3?t._e():a("div",{staticClass:"mychart"},[t._v(t._s(t.$t("ea.nodata")))]),t._v(" "),a("div",{style:{width:"100%",height:"100%",display:t.myChart3?"block":"none"},attrs:{id:"myChart3"}})])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"ea-grap-item",attrs:{xs:24,sm:12}},[a("div",{staticClass:"ea-item-title"},[t._v(t._s(t.$t("ea.p103")))]),t._v(" "),a("div",{staticClass:"ea-item-main ea-border",staticStyle:{height:"362px"}},[a("div",{style:{width:"100%",height:"100%"},attrs:{id:"myChart2"}})])]),t._v(" "),a("el-col",{staticClass:"ea-grap-item",attrs:{xs:24,sm:12}},[a("div",{staticClass:"ea-item-title"},[t._v(t._s(t.$t("ea.p104")))]),t._v(" "),a("div",{staticClass:"ea-item-main ea-border",staticStyle:{height:"362px"}},[t.myChart4?t._e():a("div",{staticClass:"mychart"},[t._v(t._s(t.$t("ea.nodata")))]),t._v(" "),a("div",{style:{width:"100%",height:"100%",display:t.myChart4?"block":"none"},attrs:{id:"myChart4"}})])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:24}},[a("div",{staticClass:"ea-item-title"},[t._v(t._s(t.$t("ea.p105")))]),t._v(" "),a("div",{staticClass:"ea-item-main2 ea-border"},t._l(t.group,function(e,i){return a("el-row",{key:i,attrs:{gutter:0}},t._l(e,function(t,i){return a("el-col",{key:i,attrs:{xs:24,sm:24/e.length}},[a("div",{staticClass:"ea-grap-item"},[a("div",{style:{width:"100%",height:"100%"},attrs:{id:t.ea_name}})])])}))}))])],1)],1)},staticRenderFns:[]};var c=a("VU/8")(o,l,!1,function(t){a("CJnH")},null,null);e.default=c.exports}});