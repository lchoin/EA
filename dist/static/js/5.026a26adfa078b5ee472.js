webpackJsonp([5],{OFmQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("Dd8w"),s=n.n(i),a=n("bOdI"),o=n.n(a),l=n("NYxO"),r=n("WAoQ"),c={data:function(){var e;return e={page:1,size:10,total:0,eaInfo:{login:"",nick_name:"",brokers:""},id:"",showedit:!1,edit:!1,showPr:!1,pr:"",value:""},o()(e,"size",15),o()(e,"prList",[]),e},created:function(){this.getUsersList(this.page)},mounted:function(){},computed:s()({},Object(l.b)(["ea_user_list","ea_user_total","device","ea_pr"])),methods:{haneleGetPrList:function(e){var t=this,n=this.$loading({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),i={page:e,size:t.size};Object(r.i)(i).then(function(e){n.close(),console.log("haneleGetPrList",e),t.prList=e.data.data})},gotoPrList:function(){this.$router.push("/prlist")},changeSelect:function(e){console.log(this.eaInfo)},hideEdit:function(){this.showedit=!1},showEdit:function(e){this.showedit=!0,this.edit=!1,this.showPr="pr"==e,this.eaInfo={login:"",nick_name:"",brokers:""}},handleEditPr:function(){var e=this;if(""!=this.pr){var t={group_name:this.pr};Object(r.a)(t).then(function(t){e.showedit=!1,e.getUsersList(e.page),e.$message({message:"添加成功",type:"success"})})}else this.$message({message:"请输入项目名称",type:"warning"})},handleEditEa:function(){var e=this;if(""!=this.eaInfo.login&&""!=this.eaInfo.nick_name)if(this.edit){var t=this.eaInfo;t.id=this.id,Object(r.e)(t).then(function(){e.showedit=!1,e.getUsersList(e.page),e.$message({message:"修改成功",type:"success"})})}else{var n={login:this.eaInfo.login,nick_name:this.eaInfo.nick_name,brokers:this.eaInfo.brokers};Object(r.b)(n).then(function(t){e.showedit=!1,e.getUsersList(e.page),e.$message({message:"添加成功",type:"success"})})}else this.$message({message:"请输入账号或昵称或项目",type:"warning"})},handleEdit:function(e){console.log(e),this.eaInfo={login:e.login,nick_name:e.nick_name,brokers:e.brokers},this.id=e.id,this.showedit=!0,this.edit=!0,this.showPr=!1},handleDelete:function(e){var t=this;this.$confirm("删除该EA, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.handleConfirmDelete(e)}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},handleConfirmDelete:function(e){var t=this,n=this,i=this.page;Object(r.c)({id:e}).then(function(e){t.$message({type:"success",message:"删除成功!"}),n.getUsersList(i)})},handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){console.log("当前页: "+e),this.page=e,this.getUsersList(e)},getUsersList:function(e){var t=this.$loading({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),n={page:e,size:this.size};this.$store.dispatch("GetUserList",n).then(function(e){t.close()}).catch(function(){t.close()})}}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ea-list"},[n("div",{staticClass:"add-ea"},[n("div",{staticClass:"ea-title-right btn-active",on:{click:e.gotoPrList}},[e._v(e._s(e.$t("ea.p608")))]),e._v(" "),n("div",{staticClass:"ea-title-right btn-active",on:{click:function(t){e.showEdit("ea")}}},[e._v(e._s(e.$t("ea.p605")))])]),e._v(" "),n("div",{staticClass:"ea-list-main"},["mobile"==e.device?n("div",{staticClass:"fixed-table"},[n("div",{staticClass:"center-center",staticStyle:{height:"44px","border-bottom":"1px solid #042d35"}},[e._v(e._s(e.$t("ea.p601")))]),e._v(" "),e._l(e.ea_user_list,function(t,i){return n("div",{key:i,staticClass:"ea-list-items center-center",class:(i+1)%2==0?"even-num":""},[n("div",{staticClass:"flex-1"},[e._v(e._s(t.login))])])})],2):e._e(),e._v(" "),e.ea_user_list.length>0?n("div",{staticStyle:{width:"100%","overflow-x":"auto"}},[n("div",{staticClass:"ea-list-title hor",style:{"min-width":"680px",paddingLeft:"mobile"==e.device?"80px":"0"}},["mobile"!=e.device?n("div",[e._v(e._s(e.$t("ea.p601")))]):e._e(),e._v(" "),n("div",[e._v(e._s(e.$t("ea.p602")))]),e._v(" "),n("div",[e._v("Brokers")]),e._v(" "),n("div",[e._v(e._s(e.$t("ea.p604")))]),e._v(" "),n("div",{staticStyle:{"min-width":"90px"}},[e._v(e._s(e.$t("ea.p603")))])]),e._v(" "),n("div",{style:{"min-width":"680px",paddingLeft:"mobile"==e.device?"80px":"0"}},e._l(e.ea_user_list,function(t,i){return n("div",{key:i,staticClass:"ea-list-items center-center",class:(i+1)%2==0?"even-num":""},["mobile"!=e.device?n("div",{staticClass:"flex-1"},[e._v(e._s(t.login))]):e._e(),e._v(" "),n("div",{staticClass:"flex-1"},[e._v(e._s(t.nick_name))]),e._v(" "),n("div",{staticClass:"flex-1"},[e._v(e._s(t.brokers))]),e._v(" "),n("div",{staticClass:"flex-1"},[e._v(e._s(t.create_time))]),e._v(" "),n("div",{staticClass:"ea-list-btn center-center",staticStyle:{"min-width":"90px"}},[n("span",{staticClass:"btn-edit",on:{click:function(n){e.handleEdit(t)}}},[n("i",{staticClass:"iconfont"},[e._v("")])]),e._v(" "),n("span",{staticClass:"btn-delete",on:{click:function(n){e.handleDelete(t.id)}}},[n("i",{staticClass:"iconfont"},[e._v("")])])])])}))]):n("div",{staticClass:"no-data"},[e._v(e._s(e.$t("ea.nodata")))]),e._v(" "),"mobile"==e.device&&e.ea_user_list.length>0?n("div",{staticStyle:{"text-align":"right",padding:"10px 10px 0 10px",color:"#666"}},[e._v("--左右滑动查看更多--")]):e._e(),e._v(" "),e.ea_user_total?n("el-pagination",{attrs:{"page-size":e.size,layout:"prev, pager, next",total:e.ea_user_total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),e.showedit?n("div",{staticClass:"ea-mask"}):e._e(),e._v(" "),e.showedit?n("div",{staticClass:"ea-add-user center-center-column"},[n("div",{staticClass:"ea-edit"},[e.showPr?e._e():n("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.eaInfo.login,callback:function(t){e.$set(e.eaInfo,"login",t)},expression:"eaInfo.login"}}),e._v(" "),e.showPr?e._e():n("el-input",{attrs:{placeholder:"请输入昵称"},model:{value:e.eaInfo.nick_name,callback:function(t){e.$set(e.eaInfo,"nick_name",t)},expression:"eaInfo.nick_name"}}),e._v(" "),e.showPr?e._e():n("el-input",{attrs:{placeholder:"请输入brokers"},model:{value:e.eaInfo.brokers,callback:function(t){e.$set(e.eaInfo,"brokers",t)},expression:"eaInfo.brokers"}}),e._v(" "),e.showPr?n("el-input",{attrs:{placeholder:"请输入新添加分析项目名称"},model:{value:e.pr,callback:function(t){e.pr=t},expression:"pr"}}):e._e(),e._v(" "),n("div",{staticClass:"ea-mask-btns"},[n("el-button",{on:{click:e.hideEdit}},[e._v("取消")]),e._v(" "),e.showPr?n("el-button",{attrs:{type:"primary"},on:{click:e.handleEditPr}},[e._v("确定")]):n("el-button",{attrs:{type:"primary"},on:{click:e.handleEditEa}},[e._v("确定")])],1)],1)]):e._e()])},staticRenderFns:[]};var h=n("VU/8")(c,d,!1,function(e){n("Udq5")},null,null);t.default=h.exports},Udq5:function(e,t,n){var i=n("XUdv");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n("rjj0")("302390a1",i,!0)},XUdv:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.ea-mask {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 100;\n  background-color: rgba(0, 0, 0, 0.5);\n}\n.ea-add-user {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 110;\n}\n.ea-add-user .ea-edit {\n    width: 80%;\n    padding: 30px;\n    background-color: #fff;\n    border-radius: 4px;\n    max-width: 400px;\n}\n.ea-add-user .ea-edit input {\n      margin-bottom: 15px;\n}\n.ea-add-user .ea-edit .el-select {\n      width: 100%;\n}\n.ea-add-user .ea-edit .el-select input {\n        margin-bottom: 0;\n}\n.ea-add-user .ea-edit .ea-mask-btns {\n      text-align: right;\n      margin-top: 15px;\n}\n.add-ea {\n  width: 100%;\n  text-align: right;\n  margin-bottom: 16px;\n}\n.ea-title-right {\n  margin-left: 10px;\n  background-color: #979797;\n  font-size: 14px;\n  padding: 0 10px;\n  border-radius: 4px;\n  height: 24px;\n  line-height: 24px;\n  cursor: pointer;\n  display: inline-block;\n}\n.btn-active {\n  background-color: #00cfff;\n  color: #fff;\n}\n.no-data {\n  text-align: center;\n  margin-top: 50px;\n  color: #b4b4b4;\n}\n.ea-list {\n  width: 100%;\n  height: calc(100vh - 70px);\n  padding: 30px;\n}\n.ea-list .ea-list-main {\n    width: 100%;\n    height: calc(100% - 40px);\n    background-color: #001b1f;\n    color: #eeeeee;\n    font-size: 12px;\n    position: relative;\n}\n.ea-list .ea-list-main .fixed-table {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 80px;\n      background-color: #001b1f;\n      text-align: center;\n}\n.ea-list .ea-list-main .ea-list-title {\n      width: 100%;\n      height: 44px;\n      line-height: 44px;\n      border-bottom: 1px solid #042d35;\n}\n.ea-list .ea-list-main .ea-list-title div {\n        -webkit-box-flex: 1;\n            -ms-flex: 1;\n                flex: 1;\n        text-align: center;\n}\n.ea-list .ea-list-main .ea-list-items {\n      width: 100%;\n      height: 44px;\n      line-height: 14px;\n      border-bottom: 1px solid #042d35;\n}\n.ea-list .ea-list-main .ea-list-items div {\n        -webkit-box-flex: 1;\n            -ms-flex: 1;\n                flex: 1;\n        text-align: center;\n        overflow: hidden;\n        word-break: break-all;\n}\n.ea-list .ea-list-main .ea-list-items .ea-list-btn {\n        color: #fff;\n}\n.ea-list .ea-list-main .ea-list-items .ea-list-btn span {\n          cursor: pointer;\n}\n.ea-list .ea-list-main .ea-list-items .ea-list-btn .btn-edit {\n          background-color: #1dadd5;\n          height: 24px;\n          line-height: 24px;\n          padding: 0 10px;\n          border-radius: 4px;\n}\n.ea-list .ea-list-main .ea-list-items .ea-list-btn .btn-delete {\n          background-color: #7476e5;\n          height: 24px;\n          line-height: 24px;\n          padding: 0 10px;\n          margin-left: 10px;\n          border-radius: 4px;\n}\n.ea-list .ea-list-main .ea-list-items .ea-list-btn i {\n          font-size: 18px;\n}\n.ea-list .ea-list-main .even-num {\n      background-color: #001013;\n}\n.el-pagination button:disabled, .el-pagination .btn-next, .el-pagination .btn-prev, .el-pager li {\n  background-color: unset;\n}\n.el-pagination {\n  text-align: right;\n  margin-top: 30px;\n}\n",""])}});